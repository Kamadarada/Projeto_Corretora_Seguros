@model IEnumerable<Projeto_SolCar.Entidades.Clientes>

@{
    ViewData["Title"] = "Consulta";
}

<h1 style="margin-bottom:100px;">Clientes</h1>

<style>

    .btn{
        
    }
</style>

<p>
    <a style="margin-bottom:100px;background-color: #e86d27;border-radius:5px; border:none; height:35px; color:white; padding:7px; text-decoration:none" asp-action="Cadastrar">Cadastrar novo cliente </a>

</p>

<head>

    <link rel="stylesheet" href="/css/Gerenciador_Atividades_Curriculares.css" asp-append-version="true" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

    <script>
        $(document).ready(function () {
            $("#InputS").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                $("#tb tr").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });
    </script>
</head>




<div style="margin-bottom:50px;" class="card">
    <div class="card-header"><strong>Pesquisar usuários</strong></div>
    <div style="background-color:#f2f2f2; border-color: #e86d27" class="card-body">
        

        <form role="search" class="d-flex">
            <div class="col-4">
            

                <input aria-label="Search" type="text" id="InputS" class="form-control" placeholder="Busque por Nome ou CPF" />

            </div>
        </form>

        
    </div>
</div>



<table class="table table-striped">




    <thead class="table-orange" style="text-align:center;">
        <tr style="border-radius:10px;position: sticky; top: 0; z-index: 1;">

            <th>Nome</th>
            <th>CEP</th>
            <th>Telefone</th>
            <th>CPF</th>
            <th>Data de nascimento</th>
            <th>Opções</th>
            

        </tr>
    </thead>


    <tbody id="tb" style="text-align:center" >

            @foreach (var item in Model)
            {
                <tr>
                   

                    <td style="width:250px">
                        @item.Nome
                    </td>

                <td style="width:150px">
                        @item.CEP
                    </td>

                <td style="width:150px">
                        @item.Telefone
                    </td>

                <td style="width:150px">
                        @item.CPF
                    </td>
                    <td>
                        @item.Data_nasc
                    </td>
                    

                    <td>
                    <a style="background-color: #e86d27; color:white" class="btn" asp-action="Details" asp-route-id="@item.Id">Consultar</a>
                    <a asp-action="Edit" class="btn btn-success" asp-route-id="@item?.Id">Editar</a>
                    <a style="color:white" class="btn btn-primary" asp-action="SelecionarPlano" asp-route-id="@item.Id">Adicionar plano</a>

                    </td>
            
                </tr>



            }
    </tbody>



 </table>











                    <!--section Scripts{
                        <script>
        function ajaxConsulta() {
            $.ajax({
                type: "POST",
                url: window.location.origin+"/Clientes/Ajax",
                data: { "query" : $("#query").val() },
                success: function(retorno)
                {
                    console.log(retorno)
                   $('#TabelaTeste tbody').empty();
                   var tr = ""
                    retorno.forEach(function (i) {
                        tr += "<tr><td>" + i.nome + "</td><td>" + i.endereco + "</td><td>" + i.telefone + "</td><td>" + i.cpf + "</td><td>" + i.data_nasc + "</td></tr>"
                   })
                  
                    $("#TabelaTeste tbody").append(tr);

                },
                dataType: "JSON"
            });
                            }
                        </script>
                    }

                    -->




